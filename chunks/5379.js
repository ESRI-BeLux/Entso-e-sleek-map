"use strict";(self.webpackChunkentso_e_sleek_map_tester=self.webpackChunkentso_e_sleek_map_tester||[]).push([[5379],{59929:(t,e,n)=>{n.d(e,{N:()=>m,a:()=>P,b:()=>p,c:()=>b,d:()=>_,f:()=>y,g:()=>A,i:()=>N,n:()=>z,u:()=>L,w:()=>I}),n(56531);var i=n(29287),r=n(68668),s=n(84538),a=n(55525),o=n(88435),h=n(56218),c=n(44284),u=n(42437),l=n(53903),f=n(28912),d=n(18921),g=n(20933);const m=_();function _(){return(0,c.vt)()}const v=h.e,M=h.e;function b(t,e){return(0,h.c)(e,t)}function p(t,e){return(0,c.fA)(t[0],t[1],t[2],e)}function I(t){return t}function P(t){return t[3]}function A(t){return t}function y(t,e,n,i){return(0,c.fA)(t,e,n,i)}function j(t,e,n){if(null==e)return!1;if(!q(t,e,x))return!1;let{t0:i,t1:r}=x;if((i<0||r<i&&r>0)&&(i=r),i<0)return!1;if(n){const{origin:t,direction:r}=e;n[0]=t[0]+r[0]*i,n[1]=t[1]+r[1]*i,n[2]=t[2]+r[2]*i}return!0}const x={t0:0,t1:0};function q(t,e,n){const{origin:i,direction:r}=e,s=O;s[0]=i[0]-t[0],s[1]=i[1]-t[1],s[2]=i[2]-t[2];const a=r[0]*r[0]+r[1]*r[1]+r[2]*r[2];if(0===a)return!1;const o=2*(r[0]*s[0]+r[1]*s[1]+r[2]*s[2]),h=o*o-4*a*(s[0]*s[0]+s[1]*s[1]+s[2]*s[2]-t[3]*t[3]);if(h<0)return!1;const c=Math.sqrt(h);return n.t0=(-o-c)/(2*a),n.t1=(-o+c)/(2*a),!0}const O=(0,o.vt)();function N(t,e){return j(t,e,null)}function S(t,e,n){const i=g.rq.get(),r=g.Rc.get();(0,a.b)(i,e.origin,e.direction);const o=P(t);(0,a.b)(n,i,e.origin),(0,a.h)(n,n,1/(0,a.l)(n)*o);const h=C(t,e.origin),c=(0,d.g7)(e.origin,n);return(0,s.$0)(r,c+h,i),(0,a.e)(n,n,r),n}function w(t,e,n){const i=(0,a.f)(g.rq.get(),e,t),r=(0,a.h)(g.rq.get(),i,t[3]/(0,a.l)(i));return(0,a.g)(n,r,t)}function C(t,e){const n=(0,a.f)(g.rq.get(),e,t),i=(0,a.l)(n),s=P(t),o=s+Math.abs(s-i);return(0,r.XM)(s/o)}const T=(0,o.vt)();function E(t,e,n,i){const s=(0,a.f)(T,e,t);switch(n){case l._.X:{const t=(0,r.jU)(s,T)[2];return(0,a.s)(i,-Math.sin(t),Math.cos(t),0)}case l._.Y:{const t=(0,r.jU)(s,T),e=t[1],n=t[2],o=Math.sin(e);return(0,a.s)(i,-o*Math.cos(n),-o*Math.sin(n),Math.cos(e))}case l._.Z:return(0,a.n)(i,s);default:return}}function B(t,e){const n=(0,a.f)(V,e,t);return(0,a.l)(n)-t[3]}function z(t,e){const n=(0,a.a)(t,e),i=P(t);return n<=i*i}function L(t,e,n=(0,c.vt)()){const i=(0,a.p)(t,e),r=t[3],s=e[3];return i+s<r?((0,h.c)(n,t),n):i+r<s?((0,h.c)(n,e),n):((0,a.k)(n,t,e,(i+s-r)/(2*i)),n[3]=(i+r+s)/2,n)}const V=(0,o.vt)(),D=_();Object.freeze(Object.defineProperty({__proto__:null,NullSphere:m,altitudeAt:B,angleToSilhouette:C,axisAt:E,clear:function(t){t[0]=t[1]=t[2]=t[3]=0},closestPoint:function(t,e,n){return j(t,e,n)?n:((0,f.oC)(e,t,n),w(t,n,n))},closestPointOnSilhouette:S,containsPoint:z,copy:b,create:_,distanceToSilhouette:function(t,e){const n=(0,a.f)(g.rq.get(),e,t),i=(0,a.o)(n),r=t[3]*t[3];return Math.sqrt(Math.abs(i-r))},elevate:function(t,e,n){return t!==n&&(n[0]=t[0],n[1]=t[1],n[2]=t[2]),n[3]=t[3]+e,n},equals:M,exactEquals:v,fromCenterAndRadius:p,fromRadius:function(t,e){return t[0]=t[1]=t[2]=0,t[3]=e,t},fromValues:y,getCenter:A,getRadius:P,intersectLine:function(t,e,n){const i=(0,f.Cr)(e,n);if(!q(t,i,x))return[];const{origin:r,direction:s}=i,{t0:h,t1:c}=x,l=e=>{const n=(0,o.vt)();return(0,a.q)(n,r,s,e),w(t,n,n)};return Math.abs(h-c)<(0,u.FD)()?[l(h)]:[l(h),l(c)]},intersectRay:j,intersectRayClosestSilhouette:function(t,e,n){if(j(t,e,n))return n;const i=S(t,e,g.rq.get());return(0,a.g)(n,e.origin,(0,a.h)(g.rq.get(),e.direction,(0,a.p)(e.origin,i)/(0,a.l)(e.direction))),n},intersectsRay:N,projectPoint:w,setAltitudeAt:function(t,e,n,i){const r=B(t,e),s=E(t,e,l._.Z,V),o=(0,a.h)(V,s,n-r);return(0,a.g)(i,e,o)},setExtent:function(t,e,n){return i.A.getLogger("esri.geometry.support.sphere").error("sphere.setExtent is not yet supported"),t!==n&&b(t,n),n},tmpSphere:D,union:L,wrap:I},Symbol.toStringTag,{value:"Module"}))},46755:(t,e,n)=>{n.d(e,{a:()=>s,b:()=>o,c:()=>a,d:()=>r,e:()=>l,f:()=>h,n:()=>f,s:()=>c,t:()=>u}),n(56531);var i=n(9605);function r(t,e,n){s(t.typedBuffer,e.typedBuffer,n,t.typedBufferStride,e.typedBufferStride)}function s(t,e,n,i=3,r=i){if(t.length/i!==Math.ceil(e.length/r))return t;const s=t.length/i,a=n[0],o=n[1],h=n[2],c=n[4],u=n[5],l=n[6],f=n[8],d=n[9],g=n[10],m=n[12],_=n[13],v=n[14];let M=0,b=0;for(let n=0;n<s;n++){const n=e[M],s=e[M+1],p=e[M+2];t[b]=a*n+c*s+f*p+m,t[b+1]=o*n+u*s+d*p+_,t[b+2]=h*n+l*s+g*p+v,M+=r,b+=i}return t}function a(t,e,n){o(t.typedBuffer,e.typedBuffer,n,t.typedBufferStride,e.typedBufferStride)}function o(t,e,n,r=3,s=r){if(t.length/r!==Math.ceil(e.length/s))return void(0,i.j)().error("source and destination buffers need to have the same number of elements");const a=t.length/r,o=n[0],h=n[1],c=n[2],u=n[3],l=n[4],f=n[5],d=n[6],g=n[7],m=n[8];let _=0,v=0;for(let n=0;n<a;n++){const n=e[_],i=e[_+1],a=e[_+2];t[v]=o*n+u*i+d*a,t[v+1]=h*n+l*i+g*a,t[v+2]=c*n+f*i+m*a,_+=s,v+=r}}function h(t,e,n){c(t.typedBuffer,e,n,t.typedBufferStride)}function c(t,e,n,i=3){const r=Math.min(t.length/i,e.count),s=e.typedBuffer,a=e.typedBufferStride;let o=0,h=0;for(let e=0;e<r;e++)t[h]=n*s[o],t[h+1]=n*s[o+1],t[h+2]=n*s[o+2],o+=a,h+=i}function u(t,e,n,i=3,r=i){const s=t.length/i;if(s!==Math.ceil(e.length/r))return t;let a=0,o=0;for(let h=0;h<s;h++)t[o]=e[a]+n[0],t[o+1]=e[a+1]+n[1],t[o+2]=e[a+2]+n[2],a+=r,o+=i;return t}function l(t,e){f(t.typedBuffer,e.typedBuffer,t.typedBufferStride,e.typedBufferStride)}function f(t,e,n=3,i=n){const r=Math.min(t.length/n,e.length/i);let s=0,a=0;for(let o=0;o<r;o++){const r=e[s],o=e[s+1],h=e[s+2],c=r*r+o*o+h*h;if(c>0){const e=1/Math.sqrt(c);t[a]=e*r,t[a+1]=e*o,t[a+2]=e*h}s+=i,a+=n}}Object.freeze(Object.defineProperty({__proto__:null,normalize:f,normalizeView:l,scale:c,scaleView:h,shiftRight:function(t,e,n){const i=Math.min(t.count,e.count),r=t.typedBuffer,s=t.typedBufferStride,a=e.typedBuffer,o=e.typedBufferStride;let h=0,c=0;for(let t=0;t<i;t++)r[c]=a[h]>>n,r[c+1]=a[h+1]>>n,r[c+2]=a[h+2]>>n,h+=o,c+=s},transformMat3:o,transformMat3View:a,transformMat4:s,transformMat4View:r,translate:u},Symbol.toStringTag,{value:"Module"}))},38766:(t,e,n)=>{n.d(e,{I:()=>r});var i=n(36227);class r{constructor(t){this._allocator=t,this._items=[],this._itemsPtr=0,this._grow()}get(){return 0===this._itemsPtr&&(0,i.d)((()=>this._reset())),this._itemsPtr===this._items.length&&this._grow(),this._items[this._itemsPtr++]}_reset(){const t=Math.min(3*Math.max(8,this._itemsPtr),this._itemsPtr+3*s);this._items.length=Math.min(t,this._items.length),this._itemsPtr=0}_grow(){for(let t=0;t<Math.max(8,Math.min(this._items.length,s));t++)this._items.push(this._allocator())}}const s=1024},9605:(t,e,n)=>{n.d(e,{j:()=>r});var i=n(29287);const r=()=>i.A.getLogger("esri.views.3d.support.buffer.math")},61499:(t,e,n)=>{n.d(e,{Cr:()=>c,H6:()=>f,_I:()=>l,kb:()=>u,ld:()=>d,vt:()=>h});var i=n(68668),r=n(38766),s=n(55525),a=n(88435),o=n(20933);function h(t){return t?{origin:(0,a.o8)(t.origin),vector:(0,a.o8)(t.vector)}:{origin:(0,a.vt)(),vector:(0,a.vt)()}}function c(t,e,n=h()){return(0,s.c)(n.origin,t),(0,s.f)(n.vector,e,t),n}function u(t,e){const n=(0,s.f)(o.rq.get(),e,t.origin),r=(0,s.j)(t.vector,n),a=(0,s.j)(t.vector,t.vector),h=(0,i.qE)(r/a,0,1),c=(0,s.f)(o.rq.get(),(0,s.h)(o.rq.get(),t.vector,h),n);return(0,s.j)(c,c)}function l(t,e,n){return f(t,e,0,1,n)}function f(t,e,n,r,a){const{vector:h,origin:c}=t,u=(0,s.f)(o.rq.get(),e,c),l=(0,s.j)(h,u)/(0,s.o)(h);return(0,s.h)(a,h,(0,i.qE)(l,n,r)),(0,s.g)(a,a,t.origin)}function d(t,e,n){return!!function(t,e,n,r){const a=1e-6,h=t.origin,c=(0,s.g)(o.rq.get(),h,t.vector),u=e.origin,l=(0,s.g)(o.rq.get(),u,e.vector),f=o.rq.get(),d=o.rq.get();if(f[0]=h[0]-u[0],f[1]=h[1]-u[1],f[2]=h[2]-u[2],d[0]=l[0]-u[0],d[1]=l[1]-u[1],d[2]=l[2]-u[2],Math.abs(d[0])<a&&Math.abs(d[1])<a&&Math.abs(d[2])<a)return!1;const g=o.rq.get();if(g[0]=c[0]-h[0],g[1]=c[1]-h[1],g[2]=c[2]-h[2],Math.abs(g[0])<a&&Math.abs(g[1])<a&&Math.abs(g[2])<a)return!1;const m=f[0]*d[0]+f[1]*d[1]+f[2]*d[2],_=d[0]*g[0]+d[1]*g[1]+d[2]*g[2],v=f[0]*g[0]+f[1]*g[1]+f[2]*g[2],M=d[0]*d[0]+d[1]*d[1]+d[2]*d[2],b=(g[0]*g[0]+g[1]*g[1]+g[2]*g[2])*M-_*_;if(Math.abs(b)<a)return!1;let p=(m*_-v*M)/b,I=(m+_*p)/M;n&&(p=(0,i.qE)(p,0,1),I=(0,i.qE)(I,0,1));const P=o.rq.get(),A=o.rq.get();return P[0]=h[0]+p*g[0],P[1]=h[1]+p*g[1],P[2]=h[2]+p*g[2],A[0]=u[0]+I*d[0],A[1]=u[1]+I*d[1],A[2]=u[2]+I*d[2],r.tA=p,r.tB=I,r.pA=P,r.pB=A,r.distance2=(0,s.a)(P,A),!0}(t,e,!0,g)&&((0,s.c)(n,g.pA),!0)}const g={tA:0,tB:0,pA:(0,a.vt)(),pB:(0,a.vt)(),distance2:0};new r.I((()=>h()))},28912:(t,e,n)=>{n.d(e,{C:()=>u,Cr:()=>l,LV:()=>c,kb:()=>f,oC:()=>d,vt:()=>o}),n(22157);var i=n(38766),r=n(55525),s=n(88435),a=n(20933);function o(t){return t?h((0,s.o8)(t.origin),(0,s.o8)(t.direction)):h((0,s.vt)(),(0,s.vt)())}function h(t,e){return{origin:t,direction:e}}function c(t,e){const n=g.get();return n.origin=t,n.direction=e,n}function u(t,e=o()){return function(t,e,n=o()){return(0,r.c)(n.origin,t),(0,r.c)(n.direction,e),n}(t.origin,t.direction,e)}function l(t,e,n=o()){return(0,r.c)(n.origin,t),(0,r.f)(n.direction,e,t),n}function f(t,e){const n=(0,r.b)(a.rq.get(),(0,r.n)(a.rq.get(),t.direction),(0,r.f)(a.rq.get(),e,t.origin));return(0,r.j)(n,n)}function d(t,e,n){const i=(0,r.j)(t.direction,(0,r.f)(n,e,t.origin));return(0,r.g)(n,t.origin,(0,r.h)(n,t.direction,i)),n}const g=new i.I((()=>o()))},84827:(t,e,n)=>{n.d(e,{Eb:()=>a,_j:()=>o,k5:()=>i});var i,r,s=n(68668);function a(t){switch(t){case"multiply":default:return i.Multiply;case"ignore":return i.Ignore;case"replace":return i.Replace;case"tint":return i.Tint}}function o(t,e,n){if(null==t||e===i.Ignore)return n[0]=255,n[1]=255,n[2]=255,void(n[3]=255);const r=(0,s.qE)(Math.round(t[3]*c),0,c),a=0===r||e===i.Tint?0:e===i.Replace?u:l;n[0]=(0,s.qE)(Math.round(t[0]*h),0,h),n[1]=(0,s.qE)(Math.round(t[1]*h),0,h),n[2]=(0,s.qE)(Math.round(t[2]*h),0,h),n[3]=r+a}(r=i||(i={}))[r.Multiply=1]="Multiply",r[r.Ignore=2]="Ignore",r[r.Replace=3]="Replace",r[r.Tint=4]="Tint";const h=255,c=85,u=c,l=2*c},18788:(t,e,n)=>{n.d(e,{ab:()=>pt,gm:()=>St});var i=n(62051),r=n(91915),s=n(46548),a=n(1955),o=n(4107),h=n(55525),c=n(88435),u=n(56218),l=n(44284),f=n(51028),d=n(39901),g=n(47202),m=n(9299),_=n(55226),v=n(83002),M=n(8298),b=n(20933),p=n(83646),I=n(77818),P=n(66627);const A=1e-6,y=(0,c.vt)(),j=(0,c.vt)();function x(t,e,n,i,r,s,a,o,h,c){return function(t,e,n){let i=Mt(t.maxVert[0],t.minVert[0]),r=0;for(let e=1;e<7;++e){const n=Mt(t.maxVert[e],t.minVert[e]);n>i&&(i=n,r=e)}gt(e,t.minVert[r]),gt(n,t.maxVert[r])}(t,i,r),Mt(i,r)<A?1:(ft(a,i,r),_t(a,a),function(t,e,n,i){const{data:r,size:s}=t;let a=Number.NEGATIVE_INFINITY,o=0;for(let t=0;t<r.length;t+=s){z[0]=r[t]-e[0],z[1]=r[t+1]-e[1],z[2]=r[t+2]-e[2];const i=n[0]*z[0]+n[1]*z[1]+n[2]*z[2],s=n[0]*n[0]+n[1]*n[1]+n[2]*n[2],h=z[0]*z[0]+z[1]*z[1]+z[2]*z[2]-i*i/s;h>a&&(a=h,o=t)}return gt(i,r,o),a}(e,i,a,s)<A?2:(ft(o,r,s),_t(o,o),ft(h,s,i),_t(h,h),mt(n,o,a),_t(n,n),X(e,n,a,o,h,c),0))}const q=(0,c.vt)(),O=(0,c.vt)(),N=(0,c.vt)(),S=(0,c.vt)(),w=(0,c.vt)(),C=(0,c.vt)(),T=(0,c.vt)(),E=(0,c.vt)();function B(t,e,n,i,r,s,a,o,h){(function(t,e,n,i,r){!function(t,e,n,i,r){const{data:s,size:a}=t;gt(i,s),gt(r,i),n[0]=bt(G,e),n[1]=n[0];for(let t=a;t<s.length;t+=a){const a=s[t]*e[0]+s[t+1]*e[1]+s[t+2]*e[2];a<n[0]&&(n[0]=a,gt(i,s,t)),a>n[1]&&(n[1]=a,gt(r,s,t))}}(t,e,L,r,i);const s=bt(n,e);L[1]-A<=s&&(i[0]=void 0),L[0]+A>=s&&(r[0]=void 0)})(t,e,n,q,O),void 0!==q[0]&&(ft(N,q,n),_t(N,N),ft(S,q,i),_t(S,S),ft(w,q,r),_t(w,w),mt(C,S,s),_t(C,C),mt(T,w,a),_t(T,T),mt(E,N,o),_t(E,E),X(t,C,s,S,N,h),X(t,T,a,w,S,h),X(t,E,o,N,w,h)),void 0!==O[0]&&(ft(N,O,n),_t(N,N),ft(S,O,i),_t(S,S),ft(w,O,r),_t(w,w),mt(C,S,s),_t(C,C),mt(T,w,a),_t(T,T),mt(E,N,o),_t(E,E),X(t,C,s,S,N,h),X(t,T,a,w,S,h),X(t,E,o,N,w,h))}const z=[0,0,0],L=(0,I.vt)(),V=(0,c.vt)(),D=(0,c.vt)(),k=(0,c.vt)(),R=(0,c.vt)(),F=(0,c.vt)(),U=(0,c.vt)();function X(t,e,n,i,r,s){if(vt(e)<A)return;mt(V,n,e),mt(D,i,e),mt(k,r,e),Q(t,e,L),F[1]=L[0],R[1]=L[1],U[1]=R[1]-F[1];const a=[n,i,r],o=[V,D,k];for(let n=0;n<3;++n){Q(t,a[n],L),F[0]=L[0],R[0]=L[1],Q(t,o[n],L),F[2]=L[0],R[2]=L[1],U[0]=R[0]-F[0],U[2]=R[2]-F[2];const i=ut(U);i<s.quality&&(gt(s.b0,a[n]),gt(s.b1,e),gt(s.b2,o[n]),s.quality=i)}}const G=(0,c.vt)();function Q(t,e,n){const{data:i,size:r}=t;n[0]=Number.POSITIVE_INFINITY,n[1]=Number.NEGATIVE_INFINITY;for(let t=0;t<i.length;t+=r){const r=i[t]*e[0]+i[t+1]*e[1]+i[t+2]*e[2];n[0]=Math.min(n[0],r),n[1]=Math.max(n[1],r)}}function H(t,e,n){n.center=t,n.halfSize=(0,h.h)(e,e,.5),n.quaternion=o.zK}const Y=(0,c.vt)(),K=(0,c.vt)(),Z=(0,c.vt)(),J=(0,c.vt)(),W=(0,c.vt)(),$=(0,c.vt)();function tt(t,e,n){gt(Y,e),Math.abs(e[0])>Math.abs(e[1])&&Math.abs(e[0])>Math.abs(e[2])?Y[0]=0:Math.abs(e[1])>Math.abs(e[2])?Y[1]=0:Y[2]=0,vt(Y)<A&&(Y[0]=Y[1]=Y[2]=1),mt(K,e,Y),_t(K,K),mt(Z,e,K),_t(Z,Z),et(t,e,K,Z,J,W),ft($,W,J),ot(e,K,Z,J,W,$,n)}function et(t,e,n,i,r,s){Q(t,e,L),r[0]=L[0],s[0]=L[1],Q(t,n,L),r[1]=L[0],s[1]=L[1],Q(t,i,L),r[2]=L[0],s[2]=L[1]}const nt=(0,c.vt)(),it=(0,c.vt)(),rt=(0,c.vt)(),st=(0,r.fA)(1,0,0,0,1,0,0,0,1),at=(0,o.vt)();function ot(t,e,n,i,r,s,a){st[0]=t[0],st[1]=t[1],st[2]=t[2],st[3]=e[0],st[4]=e[1],st[5]=e[2],st[6]=n[0],st[7]=n[1],st[8]=n[2],a.quaternion=function(t,e){const n=e[0]+e[4]+e[8];if(n>0){let i=Math.sqrt(n+1);t[3]=.5*i,i=.5/i,t[0]=(e[5]-e[7])*i,t[1]=(e[6]-e[2])*i,t[2]=(e[1]-e[3])*i}else{let n=0;e[4]>e[0]&&(n=1),e[8]>e[3*n+n]&&(n=2);const i=(n+1)%3,r=(n+2)%3;let s=Math.sqrt(e[3*n+n]-e[3*i+i]-e[3*r+r]+1);t[n]=.5*s,s=.5/s,t[3]=(e[3*i+r]-e[3*r+i])*s,t[i]=(e[3*i+n]+e[3*n+i])*s,t[r]=(e[3*r+n]+e[3*n+r])*s}return t}(at,st),lt(nt,i,r),dt(nt,nt,.5),dt(it,t,nt[0]),dt(rt,e,nt[1]),lt(it,it,rt),dt(rt,n,nt[2]),a.center=(0,h.g)(it,it,rt),a.halfSize=(0,h.h)(nt,s,.5)}class ht{constructor(t){this.minVert=new Array(7),this.maxVert=new Array(7),this.buffer=new ArrayBuffer(448);let e=0;this.minProj=new Float64Array(this.buffer,e,7),e+=56,this.maxProj=new Float64Array(this.buffer,e,7),e+=56;for(let t=0;t<7;++t)this.minVert[t]=new Float64Array(this.buffer,e,3),e+=24;for(let t=0;t<7;++t)this.maxVert[t]=new Float64Array(this.buffer,e,3),e+=24;for(let t=0;t<7;++t)this.minProj[t]=Number.POSITIVE_INFINITY,this.maxProj[t]=Number.NEGATIVE_INFINITY;const n=new Array(7),i=new Array(7),{data:r,size:s}=t;for(let t=0;t<r.length;t+=s){let e=r[t];e<this.minProj[0]&&(this.minProj[0]=e,n[0]=t),e>this.maxProj[0]&&(this.maxProj[0]=e,i[0]=t),e=r[t+1],e<this.minProj[1]&&(this.minProj[1]=e,n[1]=t),e>this.maxProj[1]&&(this.maxProj[1]=e,i[1]=t),e=r[t+2],e<this.minProj[2]&&(this.minProj[2]=e,n[2]=t),e>this.maxProj[2]&&(this.maxProj[2]=e,i[2]=t),e=r[t]+r[t+1]+r[t+2],e<this.minProj[3]&&(this.minProj[3]=e,n[3]=t),e>this.maxProj[3]&&(this.maxProj[3]=e,i[3]=t),e=r[t]+r[t+1]-r[t+2],e<this.minProj[4]&&(this.minProj[4]=e,n[4]=t),e>this.maxProj[4]&&(this.maxProj[4]=e,i[4]=t),e=r[t]-r[t+1]+r[t+2],e<this.minProj[5]&&(this.minProj[5]=e,n[5]=t),e>this.maxProj[5]&&(this.maxProj[5]=e,i[5]=t),e=r[t]-r[t+1]-r[t+2],e<this.minProj[6]&&(this.minProj[6]=e,n[6]=t),e>this.maxProj[6]&&(this.maxProj[6]=e,i[6]=t)}for(let t=0;t<7;++t){let e=n[t];gt(this.minVert[t],r,e),e=i[t],gt(this.maxVert[t],r,e)}}}class ct{constructor(){this.b0=(0,c.fA)(1,0,0),this.b1=(0,c.fA)(0,1,0),this.b2=(0,c.fA)(0,0,1),this.quality=0}}function ut(t){return t[0]*t[1]+t[0]*t[2]+t[1]*t[2]}function lt(t,e,n){t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2]}function ft(t,e,n){t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2]}function dt(t,e,n){t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n}function gt(t,e,n=0){t[0]=e[n],t[1]=e[n+1],t[2]=e[n+2]}function mt(t,e,n){const i=e[0],r=e[1],s=e[2],a=n[0],o=n[1],h=n[2];t[0]=r*h-s*o,t[1]=s*a-i*h,t[2]=i*o-r*a}function _t(t,e){const n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2];if(n>0){const i=1/Math.sqrt(n);t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i}}function vt(t){return t[0]*t[0]+t[1]*t[1]+t[2]*t[2]}function Mt(t,e){const n=e[0]-t[0],i=e[1]-t[1],r=e[2]-t[2];return n*n+i*i+r*r}function bt(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}class pt{constructor(t=c.uY,e=Xt,n=o.zK){this._data=[t[0],t[1],t[2],e[0],e[1],e[2],n[0],n[1],n[2],n[3]]}clone(){const t=new pt;return t._data=this._data.slice(),t}invalidate(){this._data[3]=-1}get isValid(){return this._data[3]>=0}static fromData(t){const e=new pt;return e._data=t.slice(),e}static fromJSON(t){return new pt(t.center,t.halfSize,t.quaternion)}copy(t){this._data=t.data.slice()}get center(){return(0,h.s)(b.rq.get(),this._data[0],this._data[1],this._data[2])}get centerX(){return this._data[0]}get centerY(){return this._data[1]}get centerZ(){return this._data[2]}getCenter(t){return t[0]=this._data[0],t[1]=this._data[1],t[2]=this._data[2],t}set center(t){this._data[0]=t[0],this._data[1]=t[1],this._data[2]=t[2]}setCenter(t,e,n){this._data[0]=t,this._data[1]=e,this._data[2]=n}get halfSize(){return(0,h.s)(b.rq.get(),this._data[3],this._data[4],this._data[5])}get halfSizeX(){return this._data[3]}get halfSizeY(){return this._data[4]}get halfSizeZ(){return this._data[5]}getHalfSize(t){return t[0]=this._data[3],t[1]=this._data[4],t[2]=this._data[5],t}set halfSize(t){this._data[3]=t[0],this._data[4]=t[1],this._data[5]=t[2]}get quaternion(){return(0,a.hZ)(b.J8.get(),this._data[6],this._data[7],this._data[8],this._data[9])}getQuaternion(t){return t[0]=this._data[6],t[1]=this._data[7],t[2]=this._data[8],t[3]=this._data[9],t}set quaternion(t){this._data[6]=t[0],this._data[7]=t[1],this._data[8]=t[2],this._data[9]=t[3]}get data(){return this._data}getCorners(t){const e=It,n=this._data;e[0]=n[6],e[1]=n[7],e[2]=n[8],e[3]=n[9];for(let i=0;i<8;++i){const r=t[i];r[0]=(1&i?-1:1)*n[3],r[1]=(2&i?-1:1)*n[4],r[2]=(4&i?-1:1)*n[5],(0,h.r)(r,r,e),r[0]+=n[0],r[1]+=n[1],r[2]+=n[2]}}isVisible(t){return this.intersectPlane(t[0])<=0&&this.intersectPlane(t[1])<=0&&this.intersectPlane(t[2])<=0&&this.intersectPlane(t[3])<=0&&this.intersectPlane(t[4])<=0&&this.intersectPlane(t[5])<=0}get radius(){const t=this._data[3],e=this._data[4],n=this._data[5];return Math.sqrt(t*t+e*e+n*n)}intersectSphere(t){yt[0]=this._data[0]-t[0],yt[1]=this._data[1]-t[1],yt[2]=this._data[2]-t[2];const e=this.getQuaternion(Pt);return(0,a.Xr)(It,e),(0,h.r)(yt,yt,It),(0,h.u)(yt,yt),jt[0]=Math.min(yt[0],this._data[3]),jt[1]=Math.min(yt[1],this._data[4]),jt[2]=Math.min(yt[2],this._data[5]),(0,h.v)(jt,yt)<t[3]*t[3]}intersectSphereWithMBS(t,e=this.radius){const n=this._data;yt[0]=n[0]-t[0],yt[1]=n[1]-t[1],yt[2]=n[2]-t[2];const i=t[3],r=i+e;return!((0,h.w)(yt)>r*r)&&(It[0]=-n[6],It[1]=-n[7],It[2]=-n[8],It[3]=n[9],(0,h.r)(yt,yt,It),(0,h.u)(yt,yt),jt[0]=Math.min(yt[0],n[3]),jt[1]=Math.min(yt[1],n[4]),jt[2]=Math.min(yt[2],n[5]),(0,h.v)(jt,yt)<i*i)}intersectPlane(t){const e=t[0]*this._data[0]+t[1]*this._data[1]+t[2]*this._data[2]+t[3],n=this.projectedRadius((0,v.Qj)(t));return e>n?1:e<-n?-1:0}intersectRay(t,e,n=0){const i=this._data,r=It;r[0]=-i[6],r[1]=-i[7],r[2]=-i[8],r[3]=i[9],yt[0]=t[0]-i[0],yt[1]=t[1]-i[1],yt[2]=t[2]-i[2];const s=(0,h.r)(yt,yt,It),a=(0,h.r)(jt,e,It);let o=-1/0,c=1/0;const u=this.getHalfSize(Lt);for(let t=0;t<3;t++){const e=s[t],i=a[t],r=u[t]+n;if(Math.abs(i)>1e-6){const t=(r-e)/i,n=(-r-e)/i;o=Math.max(o,Math.min(t,n)),c=Math.min(c,Math.max(t,n))}else if(e>r||e<-r)return!1}return o<=c}projectedArea(t,e,n,r){const s=this.getQuaternion(Pt);(0,a.Xr)(It,s),yt[0]=t[0]-this._data[0],yt[1]=t[1]-this._data[1],yt[2]=t[2]-this._data[2],(0,h.r)(yt,yt,It);const o=this.getHalfSize(Lt),c=yt[0]<-o[0]?-1:yt[0]>o[0]?1:0,l=yt[1]<-o[1]?-1:yt[1]>o[1]?1:0,f=yt[2]<-o[2]?-1:yt[2]>o[2]?1:0,d=Math.abs(c)+Math.abs(l)+Math.abs(f);if(0===d)return 1/0;const g=1===d?4:6,m=6*(c+3*l+9*f+13);(0,i.I0)(Vt,s),(0,i.hs)(Vt,Vt,o);const _=this.getCenter(Bt);for(let t=0;t<g;t++){const n=Nt[m+t];(0,h.s)(yt,((1&n)<<1)-1,(2&n)-1,((4&n)>>1)-1),(0,h.t)(yt,yt,Vt),(0,h.g)(xt,_,yt),xt[3]=1,(0,u.t)(xt,xt,e);const i=1/Math.max(1e-6,xt[3]);Ot[2*t]=xt[0]*i,Ot[2*t+1]=xt[1]*i}const v=2*g-2;let M=Ot[0]*(Ot[3]-Ot[v+1])+Ot[v]*(Ot[1]-Ot[v-1]);for(let t=2;t<v;t+=2)M+=Ot[t]*(Ot[t+3]-Ot[t-1]);return Math.abs(M)*n*r*.125}projectedRadius(t){const e=this.getQuaternion(Pt);return(0,a.Xr)(It,e),(0,h.r)(yt,t,It),Math.abs(yt[0]*this._data[3])+Math.abs(yt[1]*this._data[4])+Math.abs(yt[2]*this._data[5])}minimumDistancePlane(t){return t[0]*this._data[0]+t[1]*this._data[1]+t[2]*this._data[2]+t[3]-this.projectedRadius((0,v.Qj)(t))}maximumDistancePlane(t){return t[0]*this._data[0]+t[1]*this._data[1]+t[2]*this._data[2]+t[3]+this.projectedRadius((0,v.Qj)(t))}toAaBoundingBox(t){const e=this.getQuaternion(Pt),n=(0,i.I0)(Vt,e),r=this._data[3]*Math.abs(n[0])+this._data[4]*Math.abs(n[3])+this._data[5]*Math.abs(n[6]),s=this._data[3]*Math.abs(n[1])+this._data[4]*Math.abs(n[4])+this._data[5]*Math.abs(n[7]),a=this._data[3]*Math.abs(n[2])+this._data[4]*Math.abs(n[5])+this._data[5]*Math.abs(n[8]);t[0]=this._data[0]-r,t[1]=this._data[1]-s,t[2]=this._data[2]-a,t[3]=this._data[0]+r,t[4]=this._data[1]+s,t[5]=this._data[2]+a}transform(t,e,n,i=0,r=(0,d.lO)(n),s=(0,d.lO)(e),o=(0,_.jd)(e,s)){if(n===r)e.isGeographic?function(t,e,n,i,r=(0,d.lO)(n)){const s=(0,f.tO)(n),o=1+Math.max(0,i)/(s.radius+t.centerZ);t.getCenter(Et),Et[2]+=i,(0,m.projectBuffer)(Et,n,0,Et,r,0,1),e.center=Et;const c=t.getQuaternion(Pt);e.quaternion=c,(0,a.Xr)(It,c),(0,h.s)(Rt,0,0,1),(0,h.r)(Rt,Rt,It);const u=t.getHalfSize(Lt);(0,h.s)(Rt,u[0]*Math.abs(Rt[0]),u[1]*Math.abs(Rt[1]),u[2]*Math.abs(Rt[2])),(0,h.h)(Rt,Rt,s.inverseFlattening),(0,h.g)(Rt,u,Rt),e.halfSize=(0,h.h)(Rt,Rt,o)}(this,t,e,i,s):function(t,e,n,i,r=(0,d.lO)(n),s=(0,_.jd)(n,r)){t.getCorners(kt),t.getCenter(Et),Et[2]+=i,(0,g.l)(n,Et,Dt,r),e.setCenter(Dt[12],Dt[13],Dt[14]);const o=2*Math.sqrt(1+Dt[0]+Dt[5]+Dt[10]);It[0]=(Dt[6]-Dt[9])/o,It[1]=(Dt[8]-Dt[2])/o,It[2]=(Dt[1]-Dt[4])/o,It[3]=.25*o;const c=t.getQuaternion(Pt);e.quaternion=(0,a.lw)(It,It,c),(0,a.Xr)(It,It),(0,h.s)(Ft,0,0,0);const u=e.getCenter(zt);for(const t of kt)t[2]+=i,s(t,0,t,0),(0,h.y)(Rt,t,u),(0,h.r)(Rt,Rt,It),(0,h.u)(Rt,Rt),(0,h.B)(Ft,Ft,Rt);e.halfSize=Ft}(this,t,e,i,s,o);else if(e.isWGS84&&(n.isWebMercator||(0,M.r1)(n)))!function(t,e,n,i,r){e.getCenter(Bt),Bt[2]+=r;const s=(0,d.lO)(n);(0,m.projectBuffer)(Bt,t,0,Bt,s,0,1),wt(s,e,Bt,n,i)}(e,this,n,t,i);else if(e.isWebMercator&&(0,M.r1)(n))!function(t,e,n,i,r){e.getCenter(Bt),Bt[2]+=r,wt(t,e,Bt,n,i)}(e,this,n,t,i);else{const r=this.getCenter(Bt);r[2]+=i,(0,m.projectBuffer)(r,e,0,r,n,0,1),t.center=r,this!==t&&(t.quaternion=this.getQuaternion(Pt),t.halfSize=this.getHalfSize(Lt))}}}const It=(0,o.vt)(),Pt=(0,o.vt)(),At=(0,o.vt)(),yt=(0,c.vt)(),jt=(0,c.vt)(),xt=(0,l.vt)();function qt(t,e=new pt){return function(t,e){const{data:n,size:i}=t,r=n.length/i;if(r<=0)return;const s=new ht(t);lt(y,s.minProj,s.maxProj),dt(y,y,.5),ft(j,s.maxProj,s.minProj);const a=ut(j),o=new ct;o.quality=a,r<14&&(t=new P.K(new Float64Array(s.buffer,112,42),3));const h=(0,c.vt)(),u=(0,c.vt)(),l=(0,c.vt)(),f=(0,c.vt)(),d=(0,c.vt)(),g=(0,c.vt)(),m=(0,c.vt)();switch(x(s,t,m,h,u,l,f,d,g,o)){case 1:return void H(y,j,e);case 2:return void tt(t,f,e)}B(t,m,h,u,l,f,d,g,o),et(t,o.b0,o.b1,o.b2,J,W);const _=(0,c.vt)();ft(_,W,J),o.quality=ut(_),o.quality<a?ot(o.b0,o.b1,o.b2,J,W,_,e):H(y,j,e)}(t,e),e}const Ot=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.2],Nt=(()=>{const t=new Int8Array(162);let e=0;const n=n=>{for(let i=0;i<n.length;i++)t[e+i]=n[i];e+=6};return n([6,2,3,1,5,4]),n([0,2,3,1,5,4]),n([0,2,3,7,5,4]),n([0,1,3,2,6,4]),n([0,1,3,2,0,0]),n([0,1,5,7,3,2]),n([0,1,3,7,6,4]),n([0,1,3,7,6,2]),n([0,1,5,7,6,2]),n([0,1,5,4,6,2]),n([0,1,5,4,0,0]),n([0,1,3,7,5,4]),n([0,2,6,4,0,0]),n([0,0,0,0,0,0]),n([1,3,7,5,0,0]),n([2,3,7,6,4,0]),n([2,3,7,6,0,0]),n([2,3,1,5,7,6]),n([0,1,5,7,6,2]),n([0,1,5,7,6,4]),n([0,1,3,7,6,4]),n([4,5,7,6,2,0]),n([4,5,7,6,0,0]),n([4,5,1,3,7,6]),n([0,2,3,7,5,4]),n([6,2,3,7,5,4]),n([6,2,3,1,5,4]),t})();function St(t,e,n,i,r){const s=t.getQuaternion(Pt);r.quaternion=s,(0,a.Xr)(It,s);const o=t.getCenter(Bt),u=t.getHalfSize(Lt);if(i===p.RT.Global){(0,h.r)(Rt,o,It),(0,h.u)(Ft,Rt),(0,h.x)(Ut,Ft,u),(0,h.y)(Ut,Ft,Ut);const i=(0,h.l)(Ut);(0,h.g)(Ut,Ft,u);const s=(0,h.l)(Ut);if(i<n)r.center=o,(0,h.s)(Rt,n,n,n),r.halfSize=(0,h.g)(Rt,u,Rt);else{const a=s>0?1+e/s:1,o=i>0?1+n/i:1,c=(o+a)/2,l=(o-a)/2;(0,h.h)(Ut,Ft,l),r.halfSize=(0,h.q)(Ut,Ut,u,c),(0,h.h)(Ut,Ft,c),(0,h.q)(Ut,Ut,u,l),(0,h.z)(Rt,Rt),(0,h.A)(Rt,Ut,Rt);const f=t.getQuaternion(At);r.center=(0,h.r)(Rt,Rt,f)}}else{r.center=(0,h.q)(Rt,o,c.Cb,(n+e)/2);const t=(0,h.r)(Rt,c.Cb,It);(0,h.u)(t,t),r.halfSize=(0,h.q)(Ft,u,t,(n-e)/2)}return r}function wt(t,e,n,r,s){const a=e.getQuaternion(Pt),o=(0,i.I0)(Vt,a),h=e.getHalfSize(Lt);for(let t=0;t<8;++t){for(let e=0;e<3;++e)Et[e]=h[e]*(t&1<<e?-1:1);for(let e=0;e<3;++e){let i=n[e];for(let t=0;t<3;++t)i+=Et[t]*o[3*t+e];Ct[3*t+e]=i}}(0,m.projectBuffer)(Ct,t,0,Ct,r,0,8),qt(Tt,s)}const Ct=new Array(24),Tt=new P.K(Ct,3),Et=(0,c.vt)(),Bt=(0,c.vt)(),zt=(0,c.vt)(),Lt=(0,c.vt)(),Vt=(0,r.vt)(),Dt=(0,s.vt)(),kt=[[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0]],Rt=(0,c.vt)(),Ft=(0,c.vt)(),Ut=(0,c.vt)(),Xt=(0,c.fA)(-1,-1,-1)},69937:(t,e,n)=>{n.d(e,{J:()=>r});var i=n(13393);class r{constructor(){this.id=(0,i.c)()}}},73569:(t,e,n)=>{var i;n.d(e,{X:()=>i}),function(t){t[t.Layer=0]="Layer",t[t.Object=1]="Object",t[t.Mesh=2]="Mesh",t[t.Line=3]="Line",t[t.Point=4]="Point",t[t.Material=5]="Material",t[t.Texture=6]="Texture",t[t.COUNT=7]="COUNT"}(i||(i={}))},54670:(t,e,n)=>{n.d(e,{V:()=>O});var i=n(46548),r=n(55525),s=n(33609),a=n(75170);function o(t){if(t.length<a.y9)return Array.from(t);if((0,a.cy)(t))return Float64Array.from(t);if(!("BYTES_PER_ELEMENT"in t))return Array.from(t);switch(t.BYTES_PER_ELEMENT){case 1:return Uint8Array.from(t);case 2:return(0,a.jq)(t)?Uint16Array.from(t):Int16Array.from(t);case 4:return Float32Array.from(t);default:return Float64Array.from(t)}}var h=n(5633),c=n(45595),u=n(88435),l=n(70199);class f{constructor(t,e,n){this.primitiveIndices=t,this._numIndexPerPrimitive=e,this.position=n,this._children=void 0,(0,l.vA)(t.length>=1),(0,l.vA)(3===n.size||4===n.size);const{data:i,size:s,indices:a}=n;(0,l.vA)(a.length%this._numIndexPerPrimitive==0),(0,l.vA)(a.length>=t.length*this._numIndexPerPrimitive);const o=t.length;let h=s*a[this._numIndexPerPrimitive*t[0]];d.clear(),d.push(h);const c=(0,u.fA)(i[h],i[h+1],i[h+2]),f=(0,u.o8)(c);for(let e=0;e<o;++e){const n=this._numIndexPerPrimitive*t[e];for(let t=0;t<this._numIndexPerPrimitive;++t){h=s*a[n+t],d.push(h);let e=i[h];c[0]=Math.min(e,c[0]),f[0]=Math.max(e,f[0]),e=i[h+1],c[1]=Math.min(e,c[1]),f[1]=Math.max(e,f[1]),e=i[h+2],c[2]=Math.min(e,c[2]),f[2]=Math.max(e,f[2])}}this.bbMin=c,this.bbMax=f;const g=(0,r.k)((0,u.vt)(),this.bbMin,this.bbMax,.5);this.radius=.5*Math.max(Math.max(f[0]-c[0],f[1]-c[1]),f[2]-c[2]);let m=this.radius*this.radius;for(let t=0;t<d.length;++t){h=d.at(t);const e=i[h]-g[0],n=i[h+1]-g[1],r=i[h+2]-g[2],s=e*e+n*n+r*r;if(s<=m)continue;const a=Math.sqrt(s),o=.5*(a-this.radius);this.radius=this.radius+o,m=this.radius*this.radius;const c=o/a;g[0]+=e*c,g[1]+=n*c,g[2]+=r*c}this.center=g,d.clear()}getChildren(){if(this._children||(0,r.a)(this.bbMin,this.bbMax)<=1)return this._children;const t=(0,r.k)((0,u.vt)(),this.bbMin,this.bbMax,.5),e=this.primitiveIndices.length,n=new Uint8Array(e),i=new Array(8);for(let t=0;t<8;++t)i[t]=0;const{data:s,size:a,indices:o}=this.position;for(let r=0;r<e;++r){let e=0;const h=this._numIndexPerPrimitive*this.primitiveIndices[r];let c=a*o[h],u=s[c],l=s[c+1],f=s[c+2];for(let t=1;t<this._numIndexPerPrimitive;++t){c=a*o[h+t];const e=s[c],n=s[c+1],i=s[c+2];e<u&&(u=e),n<l&&(l=n),i<f&&(f=i)}u<t[0]&&(e|=1),l<t[1]&&(e|=2),f<t[2]&&(e|=4),n[r]=e,++i[e]}let h=0;for(let t=0;t<8;++t)i[t]>0&&++h;if(h<2)return;const c=new Array(8);for(let t=0;t<8;++t)c[t]=i[t]>0?new Uint32Array(i[t]):void 0;for(let t=0;t<8;++t)i[t]=0;for(let t=0;t<e;++t){const e=n[t];c[e][i[e]++]=this.primitiveIndices[t]}this._children=new Array;for(let t=0;t<8;++t)void 0!==c[t]&&this._children.push(new f(c[t],this._numIndexPerPrimitive,this.position));return this._children}static prune(){d.prune()}}const d=new c.A({deallocator:null});var g=n(69937),m=n(73569),_=n(38766),v=n(61499);function M(t,e,n){return(0,r.f)(b,e,t),(0,r.f)(p,n,t),.5*(0,r.l)((0,r.b)(b,b,p))}n(20933),new _.I(v.vt),new _.I((()=>{return t?{p0:(0,u.o8)(t.p0),p1:(0,u.o8)(t.p1),p2:(0,u.o8)(t.p2)}:{p0:(0,u.vt)(),p1:(0,u.vt)(),p2:(0,u.vt)()};var t}));const b=(0,u.vt)(),p=(0,u.vt)(),I=(0,u.vt)(),P=(0,u.vt)(),A=(0,u.vt)(),y=(0,u.vt)();var j=n(79307),x=n(3809),q=n(98380);class O extends g.J{constructor(t,e,n=null,i=m.X.Mesh,r=null,a=-1){super(),this.material=t,this.mapPositions=n,this.type=i,this.objectAndLayerIdColor=r,this.edgeIndicesLength=a,this.visible=!0,this._attributes=new Map,this._boundingInfo=null;for(const[t,n]of e)this._attributes.set(t,{...n,indices:(0,s.Dg)(n.indices)}),t===x.r.POSITION&&(this.edgeIndicesLength=this.edgeIndicesLength<0?this._attributes.get(t).indices.length:this.edgeIndicesLength)}instantiate(t={}){const e=new O(t.material||this.material,[],this.mapPositions,this.type,this.objectAndLayerIdColor,this.edgeIndicesLength);return this._attributes.forEach(((t,n)=>{t.exclusive=!1,e._attributes.set(n,t)})),e._boundingInfo=this._boundingInfo,e.transformation=t.transformation||this.transformation,e}get attributes(){return this._attributes}getMutableAttribute(t){let e=this._attributes.get(t);return e&&!e.exclusive&&(e={...e,exclusive:!0,data:o(e.data)},this._attributes.set(t,e)),e}setAttributeData(t,e){const n=this._attributes.get(t);n&&this._attributes.set(t,{...n,exclusive:!0,data:e})}get indexCount(){const t=this._attributes.values().next().value.indices;return t?.length??0}get faceCount(){return this.indexCount/3}get boundingInfo(){return null==this._boundingInfo&&(this._boundingInfo=this._calculateBoundingInfo()),this._boundingInfo}computeAttachmentOrigin(t){return!!(this.type===m.X.Mesh?this._computeAttachmentOriginTriangles(t):this.type===m.X.Line?this._computeAttachmentOriginLines(t):this._computeAttachmentOriginPoints(t))&&(null!=this._transformation&&(0,r.e)(t,t,this._transformation),!0)}_computeAttachmentOriginTriangles(t){return function(t,e){if(!t)return!1;const{size:n,data:i,indices:s}=t;(0,r.s)(e,0,0,0),(0,r.s)(y,0,0,0);let a=0,o=0;for(let t=0;t<s.length-2;t+=3){const h=s[t]*n,c=s[t+1]*n,u=s[t+2]*n;(0,r.s)(I,i[h],i[h+1],i[h+2]),(0,r.s)(P,i[c],i[c+1],i[c+2]),(0,r.s)(A,i[u],i[u+1],i[u+2]);const l=M(I,P,A);l?((0,r.g)(I,I,P),(0,r.g)(I,I,A),(0,r.h)(I,I,1/3*l),(0,r.g)(e,e,I),a+=l):((0,r.g)(y,y,I),(0,r.g)(y,y,P),(0,r.g)(y,y,A),o+=3)}return!(0===o&&0===a||(0!==a?((0,r.h)(e,e,1/a),0):0===o||((0,r.h)(e,y,1/o),0)))}(this.attributes.get(x.r.POSITION),t)}_computeAttachmentOriginLines(t){const e=this.attributes.get(x.r.POSITION);return function(t,e,n){if(!t)return!1;(0,r.s)(n,0,0,0),(0,r.s)(y,0,0,0);let i=0,s=0;const{size:a,data:o,indices:h}=t,c=h.length-1,u=c+(e?2:0);for(let t=0;t<u;t+=2){const e=t<c?t+1:0,u=h[t<c?t:c]*a,l=h[e]*a;I[0]=o[u],I[1]=o[u+1],I[2]=o[u+2],P[0]=o[l],P[1]=o[l+1],P[2]=o[l+2],(0,r.h)(I,(0,r.g)(I,I,P),.5);const f=(0,r.m)(I,P);f>0?((0,r.g)(n,n,(0,r.h)(I,I,f)),i+=f):0===i&&((0,r.g)(y,y,I),s++)}return 0!==i?((0,r.h)(n,n,1/i),!0):0!==s&&((0,r.h)(n,y,1/s),!0)}(e,function(t,e){return!(!("isClosed"in t)||!t.isClosed)&&e.indices.length>2}(this.material.parameters,e),t)}_computeAttachmentOriginPoints(t){return function(t,e){if(!t)return!1;const{size:n,data:i,indices:s}=t;(0,r.s)(e,0,0,0);let a=-1,o=0;for(let t=0;t<s.length;t++){const r=s[t]*n;a!==r&&(e[0]+=i[r],e[1]+=i[r+1],e[2]+=i[r+2],o++),a=r}return o>1&&(0,r.h)(e,e,1/o),o>0}(this.attributes.get(x.r.POSITION),t)}invalidateBoundingInfo(){this._boundingInfo=null}_calculateBoundingInfo(){const t=this.attributes.get(x.r.POSITION);if(!t||0===t.indices.length)return null;const e=this.type===m.X.Mesh?3:1;(0,l.vA)(t.indices.length%e==0,"Indexing error: "+t.indices.length+" not divisible by "+e);const n=(0,s.tM)(t.indices.length/e);return new f(n,e,t)}get transformation(){return this._transformation??i.zK}set transformation(t){this._transformation=t&&t!==i.zK?(0,i.o8)(t):null}addHighlight(){const t=new j.X(h.Mg.Highlight);return this.highlights=(0,q.Ci)(this.highlights,t),t}removeHighlight(t){this.highlights=(0,q.PC)(this.highlights,t)}}},79307:(t,e,n)=>{n.d(e,{X:()=>r});var i=n(13393);class r{constructor(t){this.channel=t,this.id=(0,i.c)()}}},5633:(t,e,n)=>{var i,r,s,a,o,h,c,u,l;n.d(e,{Am:()=>a,ID:()=>u,JS:()=>l,Mg:()=>h,dd:()=>o,it:()=>r,s2:()=>i,sf:()=>c}),function(t){t[t.None=0]="None",t[t.Front=1]="Front",t[t.Back=2]="Back",t[t.COUNT=3]="COUNT"}(i||(i={})),function(t){t[t.Less=0]="Less",t[t.Lequal=1]="Lequal",t[t.COUNT=2]="COUNT"}(r||(r={})),function(t){t[t.BACKGROUND=0]="BACKGROUND",t[t.UPDATE=1]="UPDATE"}(s||(s={})),function(t){t[t.NOT_LOADED=0]="NOT_LOADED",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED"}(a||(a={})),function(t){t[t.IntegratedMeshMaskExcluded=1]="IntegratedMeshMaskExcluded",t[t.OutlineVisualElementMask=2]="OutlineVisualElementMask"}(o||(o={})),function(t){t[t.Highlight=0]="Highlight",t[t.MaskOccludee=1]="MaskOccludee",t[t.COUNT=2]="COUNT"}(h||(h={})),function(t){t[t.Blend=0]="Blend",t[t.Opaque=1]="Opaque",t[t.Mask=2]="Mask",t[t.MaskBlend=3]="MaskBlend",t[t.COUNT=4]="COUNT"}(c||(c={})),function(t){t[t.OFF=0]="OFF",t[t.ON=1]="ON"}(u||(u={})),function(t){t.DDS_ENCODING="image/vnd-ms.dds",t.KTX2_ENCODING="image/ktx2",t.BASIS_ENCODING="image/x.basis"}(l||(l={}))},98380:(t,e,n)=>{n.d(e,{Ci:()=>s,PC:()=>a,Vk:()=>o});var i=n(88435),r=n(66846);function s(t,e){return null==t&&(t=[]),t.push(e),t}function a(t,e){if(null==t)return null;const n=t.filter((t=>t!==e));return 0===n.length?null:n}function o(t,e,n,i,s){h[0]=t.get(e,0),h[1]=t.get(e,1),h[2]=t.get(e,2),(0,r.jS)(h,c,3),n.set(s,0,c[0]),i.set(s,0,c[1]),n.set(s,1,c[2]),i.set(s,1,c[3]),n.set(s,2,c[4]),i.set(s,2,c[5])}const h=(0,i.vt)(),c=new Float32Array(6)},99067:(t,e,n)=>{var i;n.d(e,{M:()=>i}),function(t){t[t.ANIMATING=0]="ANIMATING",t[t.INTERACTING=1]="INTERACTING",t[t.IDLE=2]="IDLE"}(i||(i={}))},66846:(t,e,n)=>{function i(t,e,n){for(let i=0;i<n;++i)e[2*i]=t[i],e[2*i+1]=t[i]-e[2*i]}function r(t,e){const n=t.length;for(let i=0;i<n;++i)a[0]=t[i],e[i]=a[0];return e}function s(t,e){const n=t.length;for(let i=0;i<n;++i)a[0]=t[i],a[1]=t[i]-a[0],e[i]=a[1];return e}n.d(e,{Zo:()=>r,jA:()=>s,jS:()=>i});const a=new Float32Array(2)}}]);